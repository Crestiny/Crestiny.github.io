<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Crestiny&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Crestiny&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="CrestinyCoco">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Crestiny's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Crestiny's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Life is fantastic ! </p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/07/Database-Trigger/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CrestinyCoco">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crestiny's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/07/Database-Trigger/" class="post-title-link" itemprop="url">Database Trigger</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-09-07 05:54:42 / Modified: 06:16:21" itemprop="dateCreated datePublished" datetime="2020-09-07T05:54:42+08:00">2020-09-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Courses/" itemprop="url" rel="index"><span itemprop="name">Courses</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>触发器类似于约束，但比约束更灵活</p>
<h2>定义触发器</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE TRIGGER &lt;触发器名&gt;</span><br><span class="line">  BEFORE|AFTER &lt;触发事件&gt; ON &lt;表名&gt;</span><br><span class="line">  FOR EACH ROW|STATEMENT</span><br><span class="line">  [WHEN &lt;触发条件&gt;]</span><br><span class="line">  &lt;触发动作体&gt;</span><br></pre></td></tr></table></figure>
参数说明：
- 表的创建者才能建立触发器，而且一个表上不是无限个
- 触发事件：SQL语句动词，另外如UPDATE还可以加上 OF <触发列，...>
- 触发器类型：行级：有多少行做多少次；语句级：有多少相关语句做多少次
- 触发动作体：可以是AS + PL/SQL块
<h2>激活触发器</h2>
搞清楚触发器的激活顺序（定义时间先后）
<h2>删除触发器</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP TRIGGER &lt;触发器名&gt; ON &lt;表名&gt;;</span><br></pre></td></tr></table></figure></触发列，...>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/07/SQL-Clauses-for-Database-Security/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CrestinyCoco">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crestiny's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/07/SQL-Clauses-for-Database-Security/" class="post-title-link" itemprop="url">SQL Clauses for Database Security</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-09-07 05:17:53 / Modified: 05:40:26" itemprop="dateCreated datePublished" datetime="2020-09-07T05:17:53+08:00">2020-09-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Courses/" itemprop="url" rel="index"><span itemprop="name">Courses</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <center><h1>对数据的操作权限</h1></center>
<h2>授权</h2>
GRANT语句：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GRANT &lt;权限&gt; [,&lt;权限&gt;]...</span><br><span class="line">ON &lt;对象类型&gt; &lt;对象名&gt; [,&lt;对象类型&gt; &lt;对象名&gt;]...</span><br><span class="line">TO &lt;用户&gt; [,&lt;用户&gt;]...</span><br><span class="line">[WITH GRANT OPTION];</span><br><span class="line"></span><br><span class="line">参数解释：</span><br><span class="line">- 权限：SQL语句动词、如UPDATE(Sno)、特定ALL PRIVILEGES......</span><br><span class="line">- 对象：其实一般就是写TABLE table-name这样子，也有直接“视图名”的</span><br><span class="line">- 用户：如U1、特定的PUBLIC.......</span><br><span class="line">- 最后一个可选子句：加上代表获得此权限的用户同时也有给别人授予它的权利</span><br></pre></td></tr></table></figure>
<h2>回收权限</h2>
REVOKE语句：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">REVOKE &lt;权限&gt; [,&lt;权限&gt;]...</span><br><span class="line">ON &lt;对象类型&gt; &lt;对象名&gt; [,&lt;对象类型&gt; &lt;对象名&gt;]...</span><br><span class="line">FROM &lt;用户&gt; [,&lt;用户&gt;]...[CASCADE|RESTRICT];</span><br><span class="line"></span><br><span class="line">参数说明：最后可选的是级联收回或限制操作</span><br></pre></td></tr></table></figure>
<center><h1>关于数据库模式的权限</h1></center>
在DBA创建用户时实现
<p>创建用户语句：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER &lt;user-name&gt;</span><br><span class="line">[WITH] [DBA|RESOURCE|CONNECT];</span><br><span class="line"></span><br><span class="line">参数说明：最后括号里的是三种权限，默认最后一个，它们对应的可执行操作见下表</span><br></pre></td></tr></table></figure>
<p><img src="/2020/09/07/SQL-Clauses-for-Database-Security/%5CSQL-Clauses-for-Database-Security%5Cquan.png" alt></p>
<center><h1>数据库角色</h1></center>
很神奇的是，角色居然是权限的集合（而非用户的集合）
可以为拥有相同权限的一组用户创建一个角色
<h2>创建</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE ROLE &lt;角色名&gt;；</span><br></pre></td></tr></table></figure>
<h2>授权</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GRANT &lt;权限&gt; [,&lt;权限&gt;]...</span><br><span class="line">ON &lt;对象类型&gt; &lt;对象名&gt; [,&lt;对象类型&gt; &lt;对象名&gt;]...</span><br><span class="line">TO &lt;角色&gt; [,&lt;角色&gt;]...</span><br></pre></td></tr></table></figure>
<h2>用角色授权</h2>
因为角色本质是权限，所以我们可以：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GRANT &lt;角色1&gt; [,&lt;角色2&gt;]...</span><br><span class="line">TO &lt;角色3&gt; [,&lt;角色4&gt;]...</span><br><span class="line">[WITH GRANT OPTION]</span><br></pre></td></tr></table></figure>
<h2>收回角色权限</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">REVOKE &lt;权限&gt; [,&lt;权限&gt;]...</span><br><span class="line">ON &lt;对象类型&gt; &lt;对象名&gt; [,&lt;对象类型&gt; &lt;对象名&gt;]...</span><br><span class="line">FROM &lt;角色1&gt; [,&lt;角色2&gt;]...;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/06/Database-Important-Difficult-Exercises-Collection/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CrestinyCoco">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crestiny's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/06/Database-Important-Difficult-Exercises-Collection/" class="post-title-link" itemprop="url">Database Important&Difficult Exercises Collection</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-06 01:05:58" itemprop="dateCreated datePublished" datetime="2020-09-06T01:05:58+08:00">2020-09-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-07 12:51:04" itemprop="dateModified" datetime="2020-09-07T12:51:04+08:00">2020-09-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Courses/" itemprop="url" rel="index"><span itemprop="name">Courses</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <center><h1>题目</h1></center>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">证明：任何一个二目关系都是3NF的</span><br></pre></td></tr></table></figure>
正确。因为关系模式中只有两个属性，所以无传递。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">证明：任何一个二目关系都是BCNF的</span><br></pre></td></tr></table></figure>
<p>正确。按BCNF的定义，若X-&gt;Y,且Y不是X的子集时，<strong>每个决定因素都包含码</strong>（如果不包含，那就有属性依赖于非码属性啦！就是存在传递依赖咯），对于二目关系决定因素必然包含码。详细证明如下：（任何二元关系模式必定是BCNF）。<br>
证明：设R为一个二目关系R(A1，A2)，则属性A1和A2之间可能存在以下几种依赖关系：<br>
A、A1-&gt;A2，但A2不-&gt;A1，则关系R的码为A1，决定因素都包含码，所以，R是BCNF。<br>
B、A1不-&gt;A2，但A2-&gt;A1，则关系R的码为A2，所以决定因素都包含码，R是BCNF。<br>
C、R的码为(A1，A2)（即A1-&gt;A2，A2-&gt;A1），决定因素都包含码，为BCNF</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">证明：任何一个二目关系都是4NF的</span><br></pre></td></tr></table></figure>
<p>正确。因为只有两个属性，所以无非平凡的多值依赖。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">判断：</span><br><span class="line">（1）若 R.B→R.A，R.C→R.A，则 R.(B, C)→R.A</span><br><span class="line">（2）若 R.(B, C)→R.A，则 R.B→R.A，R.C→R.A </span><br></pre></td></tr></table></figure>
<p>（1）正确，貌似还是可以反证的<br>
（2）反例：关系模式 SC（S#，C#，G） 其中有（S#，C#）→G，但是S# 不→ G，C#不→G，也就是说少了一些决定因素就不行了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">指出下列关系模式是第几范式？并说明理由。</span><br><span class="line">① R（X，Y，Z） F&#x3D;&#123;XY→Z&#125;</span><br><span class="line">② R（X，Y，Z） F&#x3D;&#123;Y→Z，XZ→Y&#125;</span><br><span class="line">③ R（X，Y，Z） F&#x3D;&#123;Y→Z，Y→X，X→Y ， X→ Z&#125;</span><br><span class="line">④ R（X，Y，Z） F&#x3D;&#123;X→Y，X→Z&#125;</span><br><span class="line">⑤ R（W，X，Y，Z） F&#x3D;&#123;X→Z，WX→Y&#125;</span><br><span class="line">&#96;&#96;&#96; </span><br><span class="line">（1）码：（X，Y），主属性：X，Y，非主属性：Z</span><br><span class="line">	不存在非主对码的部分函数依赖——2NF</span><br><span class="line">	不存在非主对码的传递函数依赖——3NF</span><br><span class="line">	每个决定因素都包含码——BCNF</span><br><span class="line">	除了平凡的、函数依赖的，没有其他多值依赖——4NF</span><br><span class="line">	4NF</span><br><span class="line">（2）码：（X，Z），主属性：X，Z，非主属性：Y</span><br><span class="line">	不存在非主对码的部分函数依赖——2NF</span><br><span class="line">	不存在非主对码的传递函数依赖——3NF</span><br><span class="line">	不是每个决定因素都包含码</span><br><span class="line">	3NF</span><br><span class="line">（3）码：X，Y，主属性：X，Y，非主属性：Z</span><br><span class="line">	不存在非主对码的部分函数依赖——2NF</span><br><span class="line">	不存在非主对码的传递函数依赖——3NF</span><br><span class="line">	每个决定因素都包含码——BCNF</span><br><span class="line">	除了平凡的、函数依赖的，没有其他多值依赖——4NF</span><br><span class="line">	4NF</span><br><span class="line">（4）码：X，主属性：X，非主属性：Y，Z</span><br><span class="line">	不存在非主对码的部分函数依赖——2NF</span><br><span class="line">	不存在非主对码的传递函数依赖——3NF</span><br><span class="line">	每个决定因素都包含码——BCNF</span><br><span class="line">	除了平凡的、函数依赖的，没有其他多值依赖——4NF</span><br><span class="line">	4NF</span><br><span class="line">（5）码：（W，X），主属性：W，X，非主属性：Y，Z</span><br><span class="line">	存在非主对码的部分函数依赖</span><br><span class="line">	1NF</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>设有关系模式 R(U,F)，其中 U＝ABC，F＝｛A→B，B→C｝，求 F 的闭包 F＋</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">（注：K表示空集）</span><br><span class="line">（1）自反：</span><br><span class="line">k-&gt;K,</span><br><span class="line">A-&gt;K,B-&gt;K,C-&gt;K,</span><br><span class="line">A-&gt;A,B-&gt;B,C-&gt;C,</span><br><span class="line">AB-&gt;K,BC-&gt;K,AC-&gt;K,</span><br><span class="line">AB-&gt;A,AB-&gt;B,BC-&gt;B,BC-&gt;C,AC-&gt;A,AC-&gt;C,</span><br><span class="line">AB-&gt;AB,BC-&gt;BC,AC-&gt;AC,</span><br><span class="line">ABC-&gt;K,</span><br><span class="line">ABC-&gt;A,ABC-&gt;B,ABC-&gt;C,</span><br><span class="line">ABC-&gt;AB,ABC-&gt;BC,ABC-&gt;AC,</span><br><span class="line">ABC-&gt;ABC</span><br><span class="line">（2）增广：</span><br><span class="line">（对于A→B）：A→AB,AB→B,AC→BC</span><br><span class="line">（对于B→C）：AB→AC,B→BC,BC→C</span><br><span class="line">（对于A→C）：A→AC,AB→BC,AC→C</span><br><span class="line">（3）传递：</span><br><span class="line">A-&gt;C,AC-&gt;B,AB-&gt;C</span><br><span class="line"></span><br><span class="line">**如何不重不漏？**</span><br><span class="line">这好像是个NP问题啊....</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>对题 6 的关系模式R，求其候选键并判断A→C和B→A是否属于F＋。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">候选键：A</span><br><span class="line">传递律所以A→C属于</span><br><span class="line">B→A不属于</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>对于关系模式R(ABC)，F={A→BC,BC→A}，求其候选键。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">候选键：A，（B，C）</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>设有关系模式 R(U,F)，其中 U＝ABC，F＝｛A→{B,C},B→C, A→B, {A, B}→C｝，求 Fmin。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">第一步：分解右边得到F＝｛A→B,A→C,B→C,&#123;A, B&#125;→C｝</span><br><span class="line">第二步：</span><br><span class="line">对于A→B：A在G上的闭包为&#123;A,C&#125;，不含B，可以保留</span><br><span class="line">对于A→C：A在G上的闭包为&#123;A,B,C&#125;,含C，不保留</span><br><span class="line">对于B→C：B在G上的闭包为&#123;B&#125;,不含C，保留</span><br><span class="line">对于&#123;A, B&#125;→C：AB在G上的闭包为&#123;A,B,C&#125;,含C，不保留</span><br><span class="line">F＝｛A→B,B→C｝</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;center&gt;&lt;h1&gt;一些小疑问&lt;&#x2F;h1&gt;&lt;&#x2F;center&gt;</span><br></pre></td></tr></table></figure>
<p>定义SQL表时，各种数据类型怎么用？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.runoob.com&#x2F;sql&#x2F;sql-datatypes-general.html&quot;&gt;是一个比较全面的整理&lt;&#x2F;a&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>SQL语句和用户权限相关的那部分内容？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">见博客“SQL Clauses for Database Security”</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>SQL编程这块我感觉还有好多没见过的词？？？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">其实那些是PL&#x2F;SQL来的</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>数据字典和数据库的关系？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">数据字典实际上是“关于系统数据的数据库”</span><br><span class="line">感觉有点像**元数据**的意思</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>有些复杂的引理记不清楚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>几种等价的表达：</p>
<ol>
<li>元组表达式</li>
<li>汉语查询句子</li>
<li>关系代数表达式（语言）</li>
<li>域演算表达式（语言）</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. 集合</span><br><span class="line">2. 中文</span><br><span class="line">3. π、ρ</span><br><span class="line">4. 基于屏幕表格的查询语言</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>触发器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">见博客“Database Trigger”</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>证明的规范写法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>模式分解算法要背啊</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">背了！分成两组即可！</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>怎么从求一个函数依赖集在某属性集上的投影？怎么根据属性集求对应的函数依赖集（应该是一个意思）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">![](\Database-Important-Difficult-Exercises-Collection\p.png)</span><br><span class="line">说人话：</span><br><span class="line">假如我们要求F在U上的投影</span><br><span class="line">可以首先在F中剔掉那些左边X或右边Y不包含于U的函数依赖式，余下的应该就可以</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>复杂的查询用SQL有点绕不来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">其实有时候，多层嵌套也可以用简单粗暴的自然连接连所有来代替，只是后者显然效率不好</span><br><span class="line">除法虽然还是不懂，但是背下来了！</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>几个连接</p>
<pre><code>笛卡尔积：简单粗暴的排列组合，一个X
等值连接：下面有条件
自然连接：下面没有条件

&lt;center&gt;&lt;h1&gt;一句话知识点&lt;/h1&gt;&lt;/center&gt;
1. 数据库系统中，数据独立性是指：应用程序与数据库的结构之间相互独立
2. 关系数据库包含：内模式、模式、外模式三级模式；分别对应数据库的存储文件、基表、视图
(外模式也就是：子模式/用户模式，是用户看到的数据视图)

&lt;center&gt;&lt;h1&gt;要背的知识点&lt;/h1&gt;&lt;/center&gt;
1. 数据库系统的特点（物理独立性、逻辑独立性）
2. 数据库系统的三级结构模式
3. 完整性约束条件
4. DBMS主要功能
5. 数据管理技术发展过程
6. 视图和基表的区别
7. SQL特点
8. SQL四种语言（?DQMC）
9. 数据库设计的基本步骤
10. 数据库的维护方法
11. 查询处理步骤
12. 启发式规则
13. 视图的优点


&lt;center&gt;&lt;h1&gt;要注意的名词解释&lt;/h1&gt;&lt;/center&gt;

&lt;center&gt;&lt;h1&gt;要熟悉的算法&lt;/h1&gt;&lt;/center&gt;
1. 判别无损连接性
2. 判别保持函数依赖性


</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/06/Database-Programming/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CrestinyCoco">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crestiny's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/06/Database-Programming/" class="post-title-link" itemprop="url">Database Programming</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-06 00:51:19" itemprop="dateCreated datePublished" datetime="2020-09-06T00:51:19+08:00">2020-09-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-07 00:54:57" itemprop="dateModified" datetime="2020-09-07T00:54:57+08:00">2020-09-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Courses/" itemprop="url" rel="index"><span itemprop="name">Courses</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <center><h1>静态嵌入式SQL（ESQL）</h1></center>
<center><h2>ESQL的通用使用过程</h2></center>
<h2>基本结构</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL &lt;SQL语句&gt;;</span><br></pre></td></tr></table></figure>
<h2>ESQL和主语言的通信</h2>
1. 传递SQL语句执行状态：SQL通信区（SQLCA）
2. 主语言向SQL语句传参：主变量
3. SQL返回结果：主变量+游标
<h2>SQL通信区</h2>
SQLCA中有一个SQLCODE变量
为SUCCESS代表执行成功，否则就是错误代码
<p>定义SQLCA</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL INCLUDE SQLCA;</span><br></pre></td></tr></table></figure>
<h2>主变量</h2>
SQL语句中用了主程序中的变量就叫做主变量
分为输入主变量（主程序输入到SQL）和输出主变量
主变量可以附带一个指示变量，对主变量的值加以说明（比如指示主变量是否为空值）
<p>声明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL BEGIN DECLARE SECTION;</span><br><span class="line">	声明主变量、指示变量	&#x2F;*变量的定义就和主程序变量一样*&#x2F;</span><br><span class="line">	char HSno[9];		&#x2F;*比如这样*&#x2F;</span><br><span class="line">EXEC SQL END DECLARE SECTION;</span><br></pre></td></tr></table></figure>
<p>使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:主&#x2F;指示变量名	&#x2F;*前面加冒号！*&#x2F;</span><br></pre></td></tr></table></figure>
<h2>游标</h2>
游标可以看做一个数据缓冲区
SQL语句输出->游标->主变量->主程序
<p>定义游标（为了一个SQL语句）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL DECLARE [cursor-name] CURSOR FOR</span><br><span class="line">	&lt;SQL语句&gt;；</span><br></pre></td></tr></table></figure>
<p>打开和关闭游标：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL OPEN [cursor-name]；</span><br><span class="line"></span><br><span class="line">EXEC SQL CLOSE [cursor-name]；</span><br></pre></td></tr></table></figure>
<p>从游标中取数据到主变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for ( ; ; )&#123;</span><br><span class="line">	EXEC SQL FETCH [cursor-name] INTO :主变量1, :主变量2, ......</span><br><span class="line">	其他操作</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2>建立和关闭数据库连接</h2>
<h3>建立连接</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL CONNECT TO target[AS connection-name][USER user-name]；</span><br><span class="line">参数解释：</span><br><span class="line">- target:要连接的数据库服务器，标识方法有几种</span><br><span class="line">	如：&lt;dbname&gt;@&lt;hostname&gt;:&lt;port&gt;</span><br><span class="line">- connection-name：应该就是按标识符的命名规矩来</span><br><span class="line">- </span><br></pre></td></tr></table></figure>
<h3>修改连接</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL SET CONNECTION connection-name;</span><br></pre></td></tr></table></figure>
<h3>关闭连接</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL DISCONNECT [connection];	&#x2F;*这个方括号里的应该就用数据库的名字dbname*&#x2F;</span><br></pre></td></tr></table></figure>
<h3>关闭连接前可以来个“提交数据库更新”</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL COMMIT WORK;</span><br></pre></td></tr></table></figure>
<center><h2>不用游标的ESQL</h2></center>
<h3>查询结果为单记录的SELECT语句</h3>
单记录通俗点就是：查询结果只有一行
所以我们既不用循环，也不用游标，用一组主变量就可以了
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL SELECT x,x,x,x</span><br><span class="line">		 INTO :主变量1, :主变量2; :主变量3, :主变量4</span><br><span class="line">		 FROM </span><br><span class="line">		 WHERE</span><br></pre></td></tr></table></figure>
<h3>增删改语句</h3>
UPDATE/DELETE/INSERT INTO
<p>关于指示变量：</p>
<center><h2>用游标的ESQL</h2></center>
<h3>查询结果为多条记录的SELECT语句</h3>
说明游标、打开游标、循环读记录、关闭游标
<h3>CURRENT形式的UPDATE和DELETE语句</h3>
<h3>补充：什么是CURRENT形式？</h3>
<center><h1>动态嵌入式SQL（ESQL）</h1></center>
包括动态组装SQL语句和动态参数两种形式
<h2>使用SQL语句主变量</h2>
程序主变量：就是输入输出主变量那些
SQL语句主变量：内容是一句SQL语句
<p>使用方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL BEGIN DECLARE SECTION;</span><br><span class="line">	const char *stmt&#x3D;&quot;SQL语句;&quot;;		&#x2F;*SQL语句主变量，注意有两个分号*&#x2F;</span><br><span class="line">EXEC SQL END DECLARE SECTION;</span><br><span class="line"></span><br><span class="line">EXEC SQL EXECUTE IMMEDIATE :stmt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2>动态参数</h2>
- 第一步：声明SQL语句主变量
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL BEGIN DECLARE SECTION;</span><br><span class="line">	const char *stmt&#x3D;&quot;SQL语句;&quot;;		&#x2F;*SQL语句主变量，注意这里面不确定的参数用？代表*&#x2F;</span><br><span class="line">EXEC SQL END DECLARE SECTION;</span><br></pre></td></tr></table></figure>
- 第二步：准备语句
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL PREPARE [语句名] FROM :[SQL语句主变量];</span><br></pre></td></tr></table></figure>
- 第三步：执行语句
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL EXECUTE [语句名] &lt;INTO 主变量表&gt;&lt;USING 主变量或常量&gt;;</span><br></pre></td></tr></table></figure>
<center><h1>存储过程</h1></center>
PL/SQL语言：是SQL的过程化扩展，是编写数据库存储过程的一种过程语言
<h2>PL/SQL的块结构</h2>
PL/SQL程序的基本结构是块
分为匿名块和命名块
这里是匿名的，存储过程和函数是命名块
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*定义部分*&#x2F;</span><br><span class="line">DECLARE</span><br><span class="line">变量、常量、游标、异常etc</span><br><span class="line"></span><br><span class="line">&#x2F;*执行部分*&#x2F;</span><br><span class="line">BEGIN</span><br><span class="line">语句</span><br><span class="line">EXCEPTION</span><br><span class="line">异常处理</span><br><span class="line">END;</span><br></pre></td></tr></table></figure>
<h2>变量常量的定义</h2>
*注：方括号内的内容表示可选*
变量：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量名 数据类型 [[NOT NULL]:&#x3D;初值表达式];</span><br></pre></td></tr></table></figure>
常量：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">常量名 数据类型 CONSTANT:&#x3D;常量表达式;</span><br></pre></td></tr></table></figure>
<p>赋值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量名称:&#x3D;表达式;</span><br></pre></td></tr></table></figure>
<h2>控制结构</h2>
<h3>条件控制语句</h3>
第一种
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IF condition THEN</span><br><span class="line">	语句;</span><br><span class="line">END IF</span><br></pre></td></tr></table></figure>
第二种
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IF condition THEN</span><br><span class="line">	语句;</span><br><span class="line">ELSE</span><br><span class="line">	语句;</span><br><span class="line">END IF</span><br></pre></td></tr></table></figure>
第三种:THEN和ELSE里面可以再嵌套IF语句
<h3>循环控制语句</h3>
第一种
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LOOP</span><br><span class="line">	语句；</span><br><span class="line">END LOOP;</span><br></pre></td></tr></table></figure>
第二种
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">WHILE condition LOOP</span><br><span class="line">	语句；</span><br><span class="line">END LOOP;</span><br></pre></td></tr></table></figure>
第三种
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FOR count IN [REVERSE] bound1,...,bound2 LOOP</span><br><span class="line">	语句；</span><br><span class="line">END LOOP;</span><br></pre></td></tr></table></figure>
<h2>存储过程</h2>
<h3>创建存储过程</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE Procedure 过程名([参数1 数据类型，参数2 数据类型，...])	&#x2F;*存储过程首部*&#x2F;</span><br><span class="line">AS</span><br><span class="line">&lt;PL&#x2F;SQL块&gt;;									&#x2F;*存储过程体*&#x2F;</span><br></pre></td></tr></table></figure>
<h3>重命名存储过程</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER Procedure 旧过程名 RENAME TO 新过程名;</span><br></pre></td></tr></table></figure>
<h3>执行存储过程</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CALL&#x2F;PERFORM Procedure 过程名([参数1，参数2，...]);</span><br></pre></td></tr></table></figure>
<h3>删除存储过程</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP Procedure 过程名();</span><br></pre></td></tr></table></figure>
<h2>游标</h2>
PL/SQL中也可以用游标
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/05/How-to-do-E-R-Design/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CrestinyCoco">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crestiny's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/05/How-to-do-E-R-Design/" class="post-title-link" itemprop="url">How to do E-R Design</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-05 20:23:55" itemprop="dateCreated datePublished" datetime="2020-09-05T20:23:55+08:00">2020-09-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-07 09:04:12" itemprop="dateModified" datetime="2020-09-07T09:04:12+08:00">2020-09-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Courses/" itemprop="url" rel="index"><span itemprop="name">Courses</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <center><h1>区分实体和属性</h1></center>
<h2>什么能叫属性？</h2>
两条准则：
![](\How-to-do-E-R-Design\att.png)
<p><img src="/2020/09/05/How-to-do-E-R-Design/%5CHow-to-do-E-R-Design%5Cexample.png" alt></p>
<h2>数据库设计过程</h2>
<h3>从数据流图到E-R图（概念模型）</h3>
- 第一步：最开始我们有的是一个系统图，表示各个子系统之间的关系（子系统在这里也可以叫“局部应用”），例如这种：
![](\How-to-do-E-R-Design\system.png)
- 第二步：开一个循环（？）遍历所有子系统（局部应用），为每一个设计一个E-R图。
- 第三步：针对一个子系统我们怎么设计它的E-R图呢？
	1. 首先从该子系统的数据流图找到设计E-R图的灵感
	**第一层数据流图**（整个子系统的）：
	![](\How-to-do-E-R-Design\first.png)
	**第二层数据流图**（再将这个子系统细分为几个）：这里分别是接受订单、处理订单、开发票、支付过账四个
	![](\How-to-do-E-R-Design\1.png)
	![](\How-to-do-E-R-Design\2.png)
	![](\How-to-do-E-R-Design\3.png)
	![](\How-to-do-E-R-Design\4.png)
	2. 根据这些数据流图，我们可以搭一个E-R图框架
	![](\How-to-do-E-R-Design\frame.png)
	3. 现在我们可以划分关系+定义属性了
	说得明白点，其实一个关系的名字应该就对应一个实体型，关系里的属性就对应实体型的属性。得到这样的结果：
	![](\How-to-do-E-R-Design\entity.png)
	4. 根据语义，确定实体型之间的关系（1：1/1:n/m:n）
	5. 最后就可以画E-R图啦！
	完整版本应该是带属性的
	![](\How-to-do-E-R-Design\ER.png)
- 第四步：当我们把每个子系统的E-R图设计好，就可以开始合并了！
	1. 合并有两种方法，一种一步到位，另一种两两合并到最后（后一种方便些）——其实核心问题都集中在合并两个E-R图的时候怎么操作了
	2. 合并两个E-R图需要两步工作：
	（1）解决E-R图之间的冲突+合并为初步E-R图
<pre><code>&gt; 冲突类型及解决方法详见Mindmap

（2）消除冗余+生成基本E-R图
&gt; 消除冗余见Mindmap
</code></pre>
<h3>例子</h3>
<a target="_blank" rel="noopener" href="https://blog.csdn.net/csdn_blog_lcl/article/details/78609119">一个完整的E-R模型设计过程</a>
有一说一……感觉这个比书上的好懂door了！！！
<h3>从E-R图（概念模型）到关系模型（逻辑模型）</h3>
对于实体型：一个实体型——一个关系模式，属性就是属性，码就是码
<p>对于联系：<br>
1:1的关系<br>
（1）成为独立的关系模式：U=与联系相连的各实体的码+联系本身属性；候选码=各实体的码<br>
（2）与任意一端合并：被合并的那个加入另一端的码和联系的属性</p>
<p>1:n关系：<br>
（1）成为独立的关系模式：U=与联系相连的各实体的码+联系本身属性；候选码=n端实体的码<br>
（2）与n端合并</p>
<p>m:n关系与多元联系：<br>
（1）成为独立的关系模式：U=与联系相连的各实体的码+联系本身属性；各实体的码为关系的码的子集</p>
<p>注：相同码的关系模式可以合并</p>
<h2>E-R图设计的一些练习题</h2>
<a target="_blank" rel="noopener" href="https://blog.csdn.net/zxq1138634642/article/details/9121363">一些练习题</a>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/04/Skills-for-Database-Exercises/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CrestinyCoco">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crestiny's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/04/Skills-for-Database-Exercises/" class="post-title-link" itemprop="url">Skills for Database Exercises</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-04 13:02:29" itemprop="dateCreated datePublished" datetime="2020-09-04T13:02:29+08:00">2020-09-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-07 09:48:51" itemprop="dateModified" datetime="2020-09-07T09:48:51+08:00">2020-09-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Courses/" itemprop="url" rel="index"><span itemprop="name">Courses</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <center><h1>如何求最小函数依赖集</h1></center>
<h2>教科书式的定理</h2>
![](\Skills-for-Database-Exercises\min.png)
<h2>说人话</h2>
- 第一步：看到函数依赖式右边有多个属性的，用分解规则拆开
- 第二步：考察F中的每个函数依赖，对于其中一个，令一个新的函数依赖集G，这个G就是在F中把这个函数依赖去掉所形成的。接下来，对于这个函数依赖的左边X，考察它在G上的闭包是什么，如果这个闭包包含了函数依赖的右边Y，那么就从F中去掉这个函数依赖；反之保留
- 第三步：对于F中每一个左端包含多个属性的函数依赖式，选择左边X的每个子集Z,如果右边Y属于Z的在F上的闭包,则用Z->Y代替X->Y
<h2>练练手</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">关系模式R(U，F)中，U&#x3D;ABCDEG，F&#x3D;&#123;B-&gt;D，DG-&gt;C,BD-&gt;E,AG-&gt;B,ADG-&gt;BC&#125;，求F的最小函数依赖集</span><br></pre></td></tr></table></figure>
- 第一步：用分解规则拆右边，得到新的F={B->D，DG->C,BD->E,AG->B,ADG->B,ADG->C}
- 第二步：
对于B->D，B在G中的闭包是{B},不包含D，所以可以保留
对于DG->C，DG在G中的闭包是{D，G}，不包含C，所以可以保留
对于BD->E，BD在G中的闭包是{B，D}，不包含E，所以可以保留
对于AG->B，AG在G中的闭包是{A，G}，不包含B，所以可以保留
对于ADG->B，ADG在G中的闭包是{A，D，G，B，C，E}，包含B，所以丢弃
对于ADG->C，ADG在G中的闭包是{A，D，G，B，C，E}，包含C，所以丢弃
*注：这里每一步考察完，到下一步时用的还是原来那个F，一次考察就是一次考察，不会动态变化的，不然就很奇怪了。*
好，现在的F={B->D，DG->C,BD->E,AG->B}
- 第三步：
对于DG->C，D在F上的闭包是{D}，没啥替换的；G在F上的闭包是{G}，同样没啥
对于BD->E，B在F上的闭包是{B，D，E}，包含E，可用B->E替换BD->E
对于AG->B，A在F上的闭包是{A}....
所以现在的F={B->D，DG->C,B->E,AG->B}
<center><h1>如何求一个属性(组)在某函数依赖集上的闭包</h1></center>
<h2>教科书式的定理</h2>
![](\Skills-for-Database-Exercises\algorithm.png)
<h2>说人话</h2>
通过一个多次迭代的方法求。
![](\Skills-for-Database-Exercises\algorithm1.png)
*注：改正一下，应该是“在F中找到一些函数依赖式——它们的左边应该是**包含于**X(i)的”*
<center><h1>如何求某函数依赖集的闭包</h1></center>
其实就是用那些公理、推理规则之类的开始造作！
**如何不重不漏？**
这好像是个NP问题啊....
<center><h1>如何判断一个函数依赖FD是否属于某函数依赖集F的闭包</h1></center>
用公理+推理规则，能推导出来就是属于
<center><h1>如何设计E-R图并转换</h1></center>
<center><h1>如何写好SQL查询</h1></center>
<center><h1>如何判断关系所属范式</h1></center>
我觉得在实际判断中，下面这些判断方法应该一个个往后用，就像过五关斩六将一样
<h2>准备工作</h2>
- 第一步：找出数据表中所有的候选码。
首先考察包含一个属性的所有属性组，看它们能否唯一确定别的所有属性；接下来看包含两个属性的、三个的...以此类推
*Tips:假如A是码，那么所有包含了A的属性组，如（A，B）、（A，C）、（A，B，C）等等，都不是候选码了（因为作为码的要求里有一个“完全函数依赖”）*
- 第二步：根据第一步所得到的候选码，找出所有的主属性。
也就是其中用到的所有属性（候选码的并集）
- 第三步：数据表中，除去所有的主属性，剩下的就都是非主属性了。
<h2>判断是否为2NF</h2>
**在关系模式中若没有非主属性对码的部分函数依赖即可称为2NF**
<pre>考虑关系模式R（A,B,C,D），已知函数依赖有{B->D,AB->C}，关系模式R的码是（    ），R属于（    ）范式
首先找码 码是AB，然后又有D依赖于B，而B属于AB，所以存在D部分函数依赖于AB，所以不是第二范式</pre>
<h2>判断是否为3NF</h2>
**在关系模式中若没有非主属性对码的传递函数依赖即可称为3NF**
<h2>判断是否为BCNF</h2>
**在关系模式中，如果每一个决定因素都包含码，则属于BCNF**
<h2>判断是否为4NF</h2>
<center><h1>如何将关系规范化（各种模式分解算法）</h1></center>
<center><h1>SQL语句转查询树</h1></center>
给个例子你就懂了，叶子应该是关系。
原SQL语句：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT Sname</span><br><span class="line">FROM Student，SC</span><br><span class="line">WHERE Student.Sno&#x3D;SC.Sno AND SC.Cno&#x3D;&#39;2&#39;;</span><br></pre></td></tr></table></figure>
优化后：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT Sname</span><br><span class="line">FROM Student</span><br><span class="line">WHERE Student.Sno in (</span><br><span class="line">	SELECT Sno</span><br><span class="line">	FROM SC</span><br><span class="line">	WHERE SC.Cno&#x3D;&#39;2&#39;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
![](\Skills-for-Database-Exercises\tree.png)
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/03/Model-Decomposition/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CrestinyCoco">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crestiny's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/03/Model-Decomposition/" class="post-title-link" itemprop="url">Model Decomposition</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-03 15:05:35" itemprop="dateCreated datePublished" datetime="2020-09-03T15:05:35+08:00">2020-09-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-07 09:47:10" itemprop="dateModified" datetime="2020-09-07T09:47:10+08:00">2020-09-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Courses/" itemprop="url" rel="index"><span itemprop="name">Courses</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2>关系的一个分解</h2>
![](\Model-Decomposition\definition.png)
说人话：
分解以后的关系，它们的属性集合并起来应该和原关系的属性集相等，此外呢，分解出来的各子关系，它们的属性集之间不能有包含关系
那么如何确定某个子关系上的函数依赖呢？
在原关系函数依赖的闭包上找，要左右两边的属性合并起来在此子关系的属性集内就可以纳入这个子关系的函数依赖中~
<h2>模式分解的三种等价形式</h2>
![](\Model-Decomposition\3.png)
<h3>什么是“无损连接性”？</h3>
个人理解：要从分解后的子关系恢复到原关系，一般是通过自然连接来实现的；假如分解后再用自然连接得到的关系并非原关系，而是一个“元组增加了，信息丢失了”的关系，这种就是有损连接性的分解
<h3>什么是“保持函数依赖”？</h3>
个人理解：原关系的各种函数依赖，每个应该在某子关系中出现至少一次
<h2>引理</h2>
<h3>记号定义</h3>
![](\Model-Decomposition\ydefinition.png)
<h3>相关性质</h3>
![](\Model-Decomposition\p.png)
<h2>无损连接性</h2>
<h3>定义</h3>
![](\Model-Decomposition\wdefinition.png)
<h3>判别算法</h3>
![](\Model-Decomposition\algorithm.png)
<h3>说人话</h3>
- 第一步：画一张初始表，所有属性按列排开，分解的有几个关系就几行
- 第二步：填初始数据，一行行看，在每个关系模式的U包含的属性列那里写上a(j)，否则写b(ij)
- 第三步：遍历所有FD，对于每个，左边X所在的那些列里面，找出填了相同值的那些行；这些行里面，再去看右边Y对应的属性下标对应的列，看里面是否有a(li)这个元素，有的话，全部改为a(li)
注：假如有b相关的值在上一句的操作里被改掉了，那这一列所有这个值都要被改
- 第四步：知道有一行是a1，a2，a3.....，就说明是无损连接性的
<h3>特殊地</h3>
![](\Model-Decomposition\adefinition.png)
<h3>说人话</h3>
如果是分解成两个关系要判别是否无损连接性，写出“U1交U2->U1-U2(谁先谁后看情况)”，看看这个函数依赖是否在F的闭包内，在的话就……
<h2>保持函数依赖</h2>
<h3>定义</h3>
![](\Model-Decomposition\depend.png)
根据这个定义，我们再加上判断两个函数依赖集是否相等就可以完整地作为一个“保持函数依赖”的判别算法了！
即：（原F的闭包）要和（分解后F们的并集的闭包）相等
<h2>模式分解的算法</h2>
<h3>关于模式分解结果的几种情况</h3>
1. 如果保持了“无损连接性”，则分解后的关系一定是4NF的
2. 如果保持了“保持函数依赖性”，则分解后的关系一定是3NF的，不一定能到BCNF
3. 如果保持了“无损连接性”和“保持函数依赖性”，则分解后的关系一定是3NF的，不一定能到BCNF（？？？）
<h3>“保持函数依赖性”+3NF&emsp;模式分解算法</h3>
<h4>教科书式定义</h4>
![](\Model-Decomposition\a1.png)
<h4>说人话</h4>
- 第一步：极小化F
- 第二步：在U中去掉F中不包含的属性
*注：接下来讨论的都是处理后的F和U了！！！*
- 第三步：假如F中有函数依赖能使左右两边合并起来恰好是U，那没事了，R不用作分解，算法终止；不是的话就转第四步
- 第四步：把F按照相同左边X的规则分组成几个小的函数依赖集F'(i)，对应地有它的U(i)，再用U(i)在F上找到对应的F(i)，R就这样被分解了
<h3>“保持函数依赖性”+“无损连接性”+3NF&emsp;模式分解算法</h3>
<h4>教科书式定义</h4>
![](\Model-Decomposition\a2.png)
<h4>说人话</h4>
- 第一步：先做算法6.3，也就是先让分解后的模式“保持函数依赖性”。
- 第二步：找到原关系R的码X，和它在F上的闭包，形成一个对应关系R(x)
- 第三步：在先前得到的几个子关系R(i)中，寻找一下有没有对应的U(i)包含了X的，要是有，那么这个R(x)就不用加到分解出的子关系里面了，反之是需要的
<h3>“无损连接性”+BCNF&emsp;模式分解算法</h3>
<h4>教科书式定义</h4>
![](\Model-Decomposition\a3.png)
<h4>说人话</h4>
<ul>
<li>第一步：初始的状态就是从原关系R开始，</li>
<li>第二步：检查一下当前分解中是不是每个关系都符合BCNF了，如果是，就可以终止了；如果不是，跳第三步</li>
<li>第三步：对于那些不符合BCNF的关系，我们找到某个函数依赖——它的左边X并非此关系的码。我们把这个函数依赖的左右两边合并，这是一个属性集；然后在此关系属性集里面剔除“此函数依赖的右边Y”就形成另一个属性集。有了分解后的两个属性集，根据它们生成对应的F就好啦。这样就把这个关系分解好了。跳第二步</li>
</ul>
<h3>“无损连接性”+4NF&emsp;模式分解算法</h3>
<h4>教科书式定义</h4>
![](\Model-Decomposition\a4.png)
<h4>说人话</h4>
- 第一步：用算法6.5做到“无损连接性”+BCNF
- 第二步：考察分解中那些不符合4NF的关系，用定理6.6的方法分解
- 第三步：分解中的每个子关系都属于4NF即可终止
<h4>补充：什么是传说中的定理6.6呢？</h4>
![](\Model-Decomposition\d1.png)
这个定理的意思就是，既然这个关系不符合4NF吧，那就是有非平凡非函数依赖的多值依赖，也就是X-->Y。有了它我们把关系分成（X,Y）和（X,Z），有点奇怪的是，为什么关系可以这样表示啊？
<h2>完整版数据依赖的公理系统</h2>
<h3>8条公理</h3>
![](\Model-Decomposition\g1.png)
<h3>4条推理规则</h3>
![](\Model-Decomposition\g2.png)

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/02/Axiom-System-of-Data-Dependency/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CrestinyCoco">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crestiny's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/02/Axiom-System-of-Data-Dependency/" class="post-title-link" itemprop="url">Axiom System of Data Dependency</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-02 14:33:49" itemprop="dateCreated datePublished" datetime="2020-09-02T14:33:49+08:00">2020-09-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-04 13:16:17" itemprop="dateModified" datetime="2020-09-04T13:16:17+08:00">2020-09-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Courses/" itemprop="url" rel="index"><span itemprop="name">Courses</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <center><h1>Armstrong公理系统</h1></center>
<h2>什么是逻辑蕴含？</h2>
![](\Axiom-System-of-Data-Dependency\logical.png)
<br><br>
<h2>如何确定一个函数依赖是否为F所蕴含？</h2>
![](\Axiom-System-of-Data-Dependency\Armstrong.png)
*注：XZ表示X并Z*
对于Armstrong公理的简要说明：
1. 自反律：其实这个和F无关，我们只要有一个大集合X和它的子集Y，就会有X->Y
2. 增广率：需要推出XZ->YZ，也就是证明，如果有两个元组在XZ上的值相等，那么在YZ上的值也会相等；对于前半句：这个条件就给出两个元组在X上值相等，且在Z上值相等；根据X->Y，它们在Y上的值相等，和Z的一合并，就推出了这两个元组在YZ上的值也会相等
3. 传递率：你懂的
<p>顺带导出了3条推理规则：</p>
<ol>
<li>合并规则：X-&gt;Y与X-&gt;Z可得X-&gt;YZ</li>
<li>伪传递规则：X-&gt;Y与WY-&gt;Z可得XW-&gt;Z</li>
<li>分解规则：X-&gt;Y与Z包含于Y可得X-&gt;Z<br>
还顺带有个小引理：<br>
就是X-&gt;ABCDEF…与右边的分开写，是互为充要条件的<br>
<br><br></li>
</ol>
<h2>关于闭包</h2>
函数依赖集F的闭包：是指运用Armstrong公理系统推导出来的所有F可蕴含的函数依赖，结果形式应该是一个函数依赖组成的集合
属性集X关于函数依赖集F的闭包：有个推导算法可以用，结果形式应该是一个属性组成的集合
算法如下：
![](\Axiom-System-of-Data-Dependency\algorithm.png)
<h2>极小函数依赖集</h2>
<h3>定义</h3>
![](\Axiom-System-of-Data-Dependency\definition.png)
*注：两个函数依赖集等价，就是函数依赖集的闭包相等*
<h3>化简为极小函数依赖集（亦为判定）</h3>
![](\Axiom-System-of-Data-Dependency\min.png)

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/27/Without-Faith/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CrestinyCoco">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crestiny's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/27/Without-Faith/" class="post-title-link" itemprop="url">Without Faith</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-08-27 01:33:07 / Modified: 01:43:10" itemprop="dateCreated datePublished" datetime="2020-08-27T01:33:07+08:00">2020-08-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Insights-on-Life/" itemprop="url" rel="index"><span itemprop="name">Insights on Life</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我的孤独像一座花园<br>
里面只有没有灵魂的美</p>
<p>我希望<br>
自己能像<br>
夜晚梦到白日那样<br>
充满信念</p>
<p>在话语里有野火<br>
灵魂憔悴不堪<br>
头颅在黑暗中沉默</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/26/Hard-to-Understand-Concepts-in-Database/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CrestinyCoco">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crestiny's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/26/Hard-to-Understand-Concepts-in-Database/" class="post-title-link" itemprop="url">Hard-to-Understand Concepts in Database</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-08-26 21:18:48" itemprop="dateCreated datePublished" datetime="2020-08-26T21:18:48+08:00">2020-08-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-07 08:54:26" itemprop="dateModified" datetime="2020-09-07T08:54:26+08:00">2020-09-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Courses/" itemprop="url" rel="index"><span itemprop="name">Courses</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <center><h1>About Keys</h1></center>
&emsp;&emsp;码、主码、候选码的关系:
![](https://img-blog.csdnimg.cn/20190625173457198.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1bWFsaXFpbmdodWE=,size_16,color_FFFFFF,t_70)
<p>貌似码=超键<br>
<a target="_blank" rel="noopener" href="https://blog.csdn.net/sumaliqinghua/article/details/85872446">一篇不错的博客</a><br>
全码：整个属性组是码</p>
<center><h1>About Dependencies</h1></center>
<h2>完全函数依赖</h2>
&emsp;&emsp;设X,Y是关系R的两个属性集合，X’是X的真子集，存在X→Y，但对每一个X’都有X’!→Y，则称Y完全函数依赖于X。
&emsp;&emsp;*举个例子*：通过AB能得出C，但是AB单独得不出C，那么说C完全依赖于AB.
<h2>部分函数依赖</h2>
&emsp;&emsp;设X,Y是关系R的两个属性集合，存在X→Y，若X’是X的真子集，存在X’→Y，则称Y部分函数依赖于X。
&emsp;&emsp;*举个例子*：通过AB能得出C，通过A也能得出C，通过B也能得出C，那么说C部分依赖于AB。
<h2>传递函数依赖</h2>
&emsp;&emsp;传递函数依赖：设X,Y,Z是关系R中互不相同的属性集合，存在X→Y(Y !→X),Y→Z，则称Z传递函数依赖于X。
&emsp;&emsp;*举个例子*：通过A得到B，通过B得到C，但是C得不到B，B得不到A，那么成C传递依赖于A
<h2>多值依赖</h2>
设R(U)是一个属性集合U上的一个关系模式，X, Y, 和Z是U的子集，并且Z=U-X-Y，多值依赖X->->Y成立当且仅当对R的任一个关系r，r在(X,Z)上的每个值对应一组Y的值，这组值仅仅决定于X值而与Z值无关。
注：我突然觉得，这个与Z值无关，貌似不是什么很特别的言论。其实吧，我的理解就是，有一个X，有一个Y，一个X值对应多个Y值。（啊不过！Z的有无还是会决定这个多值依赖是非平凡/平凡的！）
<p>若X-&gt;-&gt;Y，而Z=空集，则称X-&gt;-&gt;Y为平凡的多值依赖。否则，称X-&gt;-&gt;Y为非平凡的多值依赖。</p>
<p>平凡多值依赖就是，属性集合中分为两个真子集，每一个X对应一组Y的取值<br>
<img src="/2020/08/26/Hard-to-Understand-Concepts-in-Database/%5CHard-to-Understand-Concepts-in-Database%5Cpingdepend.png" alt><br>
**<br>
可以看出，如果把上面的一组改为一个，那么多值依赖就变成了函数依赖。当然一个值组成的组也是组，所以说，函数依赖是多值依赖的特殊情况。<br>
（首先函数依赖和多值依赖的X、Y应该都可以是属性组吧，函数依赖是一个x值决定一个y值，多值依赖是一个x值决定多个y值）**<br>
<img src="/2020/08/26/Hard-to-Understand-Concepts-in-Database/%5CHard-to-Understand-Concepts-in-Database%5Cdepen.png" alt></p>
<h3>多值依赖的性质</h3>
![](\Hard-to-Understand-Concepts-in-Database\mdependp.png)
<h3>多值依赖与函数依赖区别</h3>
![](\Hard-to-Understand-Concepts-in-Database\difference1.png)
<h2>连接依赖</h2>
<h2>函数依赖图</h2>
看了这个你就懂怎么操作了
![](\Hard-to-Understand-Concepts-in-Database\fdepend.png)
还有涉及到部分函数依赖时，可以用虚线表示
![](\Hard-to-Understand-Concepts-in-Database\pdepend.png)
多值依赖
![](\Hard-to-Understand-Concepts-in-Database\mdepend.png)
<center><h1>零散小知识</h1></center>
<h2>二目关系</h2>
其实**目**或者说**度**，就是一个关系中有多少个属性而已......
所以二目关系就是有两列的那种啦
<h2>数据流图</h2>
数据流程图（DFD）是一种能全面地描述信息系统逻辑模型的主要工具，它可以用少数几种符号综合地反映出信息在系统中的流动、处理和存储情况。数据流程图是表示**操作或数据的方向**。
![](\Hard-to-Understand-Concepts-in-Database\DFD.png)
数据流图有四种基本图形符号：
- 箭头：表示数据流；
- 圆或椭圆：表示加工；
- 双杠：表示数据存储；
- 方框：表示数据的源点或终点。
<h2>决定因素</h2>
貌似说的就是一个函数依赖的左边
<h2>函数依赖集的覆盖</h2>
F的最小覆盖其实就是它的极小函数依赖集
<h2>表达查询的一堆语句形式</h2>
<h3>关系代数表达式</h3>
应该就是π、ρ那些吧
<h3>元组关系演算表达式</h3>
就是那些集合的形式
<h2>函数依赖集的覆盖</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">CrestinyCoco</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">29</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CrestinyCoco</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  















    <div id="pjax">
  

  

  

    </div>
  
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/miku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>
</html>
